{% extends 'layout.html.twig' %}
{% block content %}
    <section id="main-content">
        <section class="wrapper">
            <h3><i class="fa fa-angle-right"></i> Form Validation</h3>
            <div class="row mt">
                <div class="col-lg-12">
                    <h4><i class="fa fa-angle-right"></i>Ajouter Evenement</h4>
                    <div class="form-panel">
                        <div class=" form">
                            {{   form_start(form, {'attr': {'class': 'cmxform form-horizontal style-form'} }) }}
                            <div class="form-group ">
                                <label for="cname" class="control-label col-lg-2">Nom du l'évenement </label>
                                <div class="col-lg-10">
                                    {{ form_row(form.nomE, {'attr': {'class': 'form-control'} }) }}
                                    <div id="nome_err">
                                        {{ form_errors(form.nomE) }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group ">
                                <label for="cemail" class="control-label col-lg-2">Description </label>
                                <div class="col-lg-10">
                                    {{ form_row(form.description, {'attr': {'class': 'form-control description'} }) }}
                                    <div id="Description_err">
                                        {{ form_errors(form.description) }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group ">
                                <label for="curl" class="control-label col-lg-2">capacite</label>
                                <div class="col-lg-10">
                                    {{ form_row(form.capaciteE, {'attr': {'class': 'form-control capacite'} }) }}
                                    <div id="capacite_err">
                                        {{ form_errors(form.capaciteE) }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group ">
                                <label for="ccomment" class="control-label col-lg-2">categorie du l'évenement </label>
                                <div class="col-lg-10">
                                    {{ form_row(form.categorieEvenement, {'attr': {'class': 'form-control','label' : 'Ajouter'} }) }}
                                </div>
                            </div>
                            <div class="form-group ">
                                <label for="ccomment" class="control-label col-lg-2">image du l'évenement </label>
                                <div class="col-lg-10">
                                    {{ form_row(form.imgE, {'attr': {'class': 'form-control'} }) }}
                                </div>
                            </div>
                            <div class="form-group ">
                                <label for="ccomment" class="control-label col-lg-2">Prix Evenement </label>
                                <div class="col-lg-10">
                                    {{ form_row(form.prixE, {'attr': {'class': 'form-control prix'} }) }}
                                    <div id="prix_err">
                                        {{ form_errors(form.prixE) }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group ">
                                <label for="ccomment" class="control-label col-lg-2">Date de l'évenement </label>
                                <div class="col-lg-10">
                                    {{ form_row(form.dateD, {'attr': {'class': 'form-control'} }) }}
                                    <div id="date_d_err">
                                        {{ form_errors(form.dateD) }}
                                    </div>
                                </div>
                            </div>


                            <div class="form-group">
                                <div class="col-lg-offset-2 col-lg-10">
                                    {{ form_row(form.Valider, {'attr': {'class': 'btn btn-theme','style':'float:left;'} }) }}
                                    <a href="{{ path('afficherCat') }}" style="padding-left : 20px; float:left;"><button class="btn btn-theme04" type="button">Annuler</button></a>
                                </div>
                            </div>

                            {{ form_end(form) }}
                        </div>
                    </div>
                    <!-- /form-panel -->
                </div>
                <!-- /col-lg-12 -->
            </div>
        </section>
    </section>
        <!-- /wrapper -->

    <!-- /MAIN CONTENT -->
    <!-- /MAIN CONTENT -->
    <script src="{{ asset ('assets/js/jquery.min.js') }}"></script>
    <script src="{{ asset('assets/js/bootstrap-datetimepicker.js') }}"></script>
    <script src="{{ asset('assets/js/bootstrap-datetimepicker.min.js') }}"></script>
    <script>
    $(document).ready(function () {
        $('.capacite').on('keyup', function () {
            var content = $('.capacite').val();
            var numericReg = /^[+]?[1-9]+([.][0-9]+)?$/;
            if (!numericReg.test(content) && content !== "") {
                $('#capacite_err').show();
                $('#capacite_err').text("L'entier est négatif ").css({
                    "font-size": "0.9em",
                    "color": "#d85364"
                });
            }
            else {
                $('#capacite_err').hide();
            }
        });
    });
    </script>
    <script>
        $(document).ready(function () {
            $('.prix').on('keyup', function () {
                var content = $('.prix').val();
                var numericReg = /^[+]?[1-9]+([.][0-9]+)?$/;
                if (!numericReg.test(content) && content !== "") {
                    $('#prix_err').show();
                    $('#prix_err').text("Veuillez choisir un prix valide ").css({
                        "font-size": "0.9em",
                        "color": "#d85364"
                    });
                }
                else {
                    $('#prix_err').hide();
                }
            });
            $('#evenementbundle_evenement_description').on('keyup', function () {

                var i = $(this).val().length;

                if ($(this).val() !== "") {
                    $('#Description_err').show();
                    var j = 255 - i;
                    var msg = "Nombre de caractères atteint " + i + " , il vous reste " + j + " caractères sur 255";
                    $('#Description_err').text(msg).css({
                        "font-size": "0.9em",
                        "color": "#3851F7"
                    });
                }
                else {
                    $('#Description_err').hide();
                }
            });
            $('#evenementbundle_evenement_nomE').on('keyup', function () {
                var content = $('#evenementbundle_evenement_nomE').val();
                var numericReg = /^[+]?[A-Z ]+([a-z ]+)?$/;
                if (!numericReg.test(content) && content !== "") {
                    $('#nome_err').show();
                    $('#nome_err').text("Veuillez choisir un nom qui commence avec une lettre majuscule et ne contient que des lettres").css({
                        "font-size": "0.9em",
                        "color": "#d85364"
                    });
                }
                else {
                    $('#nome_err').hide();
                }
            });

        });

    </script>

{% endblock %}